# README for `data_for_predictions.csv`

The file contains the following information:

```
> glimpse(data)
Rows: 80,820
Columns: 24
$ user_name             <chr> "Bilal", "Bilal", "Bilal", "Bilal", "Bilal", "Bilal", "Bi…
$ app_section           <chr> "Chapter", "Chapter", "Chapter", "Chapter", "Chapter", "C…
$ app_ver               <chr> "1.0.4", "1.0.4", "1.0.4", "1.0.4", "1.0.4", "1.0.4", "1.…
$ application_type      <chr> "Web App", "Web App", "Web App", "Web App", "Web App", "W…
$ chapter_name          <chr> "Chapter 36", "Chapter 40", "Chapter 40", "Chapter 40", "…
$ cumulative_timer_time <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ date                  <dttm> 2024-01-08 02:04:11, 2024-01-08 02:04:56, 2024-01-08 02:…
$ eng_id                <dbl> 1796, 1882, 1881, 1879, 1884, 1883, 1858, 1864, 1856, 187…
$ eng_trans             <chr> "To Stimulate", "To Vacate, Remove, Evacuate", "To Touch"…
$ foreign_trans         <chr> "حفَّز / يحفِّز / تحفيز", "أخلى / يخلي / إخلاء", "لَمَسَ / يلمس …
$ foreign_trans_id      <dbl> 3246, 3330, 3319, 3329, 3318, 3342, 3341, 3333, 3339, 334…
$ is_correct_answer     <chr> "No", "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "Yes", "N…
$ mode                  <chr> "MC", "MC", "MC", "MC", "MC", "MC", "MC", "MC", "MC", "MC…
$ scheduled_vocab_id    <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ task                  <chr> "Medical Diagnoses\r\n", "Trauma Medicine", "Trauma Medic…
$ word_status           <chr> "Struggle", "Mastered", "Mastered", "Mastered", "Mastered…
$ timestamp             <dttm> 2024-01-08 02:04:11, 2024-01-08 02:04:56, 2024-01-08 02:…
$ day                   <date> 2024-01-07, 2024-01-07, 2024-01-07, 2024-01-07, 2024-01-…
$ lag_time              <dbl> 0.000000, 44.933283, 3.127001, 4.243707, 5.614400, 5.2107…
$ bout                  <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ repetition            <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ item_session          <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ session               <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ performance           <lgl> FALSE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, FALSE, T…
```

The general structure of the data is "tidy" in that each row in the data structure corresponds to a single interaction that a student had with a particular vocabulary item (in whatever game mode/context was active). The columns contain the following information:  

* `user_name`: A unique identfier for each student. In the app/course, students use Arabic names rather than their own names. I replaced their Arabic screen names (which we use internally) with made-up names. These can be considered anonymized.
* `app_section`: The Jedburgh web app has multiple "game modes" or sections that the user can choose. We are mostly interested in `Daily` mode, which is the mode in which we schedule the items that the user should see/study/rehearse on that particular day. Before we called it Daily mode, this mode was called `Firehose` so those data can also be considered. (Also: if the scheduling algorithm fails for whatever reason, the app reverts to `Firehose` even though to the student it looks like they are using Daily mode.) The `Chapter` mode is a way for the student to select pick a specific chapter and study/rehearse the items from that Chapter. When the student is using the VR setup, the `app_section` is coded as `None`.
* `app_ver`: The version of the app that was running when a data point was recorded.
* `application_type`: This is either "Web App" (>99% of the data) or "VR Oculus"; we probably want to ignore VR data for now because that's mostly from test accounts, not the actual students.
* `chapter_name`: The chapter/lesson associated with the item that was studied (regardless of `app_section`).
* `cumulative_timer_time`: In Daily mode, students are supposed to spend 15 minutes/day. This is the timer, in seconds, that tracks how much time a student has spend in that game mode on a given day. The timer stops if the student is inactive for too long. That's why the cumulative timer time does not correspond to the time difference between `date` or `timestamp` values in a one-to-one way.
* `date`: The datetime of when the interaction was recorded on the Jedburgh side (in UTC).
* `eng_id`: The ID associated with the English part of the word-pair.
* `eng_trans`: The string / vocabulary item in English.
* `foreign_trans`: The string / vocabulary item in Arabic.
* `foreign_trans_id`: The ID associated with the Arabic part of the word-pair. **This is the main identifier we use to communicate which items should be scheduled. When grouping by "item", this is the variable that should be used.**
* `is_correct_answer`: The accuracy of the answer as scored/determined by Jedburgh. Can be "Yes" or "No".
* `mode`: The input mode that is used when the item is presented to the user: "MC" = multiple choice; "KB" = typed responses ('keyboard'); additional modes (AM, LM, SP) are now being tested/added.
* `scheduled_vocab_id`: This information is mostly used to keep track of when a given `foreign_trans_id` was scheduled and whether the user already saw it; probably irrelevant for analyses---more of a housekeeping variable.
* `task`: Each `foreign_trans_id` is associated with a chapter/lesson and belongs to a different task/"topic". A task can span multiple chapters/lessons.
* `word_status`: A label assigned by Jedburgh. I'm not sure what the logic is; it's not used in any way at this point.
* `timestamp`: The datetime of when the interaction happened in the user's time zone (US/California). This timing variable should be used instead of `date` unless you have a specific reason to work in UTC-time.
* `day`: The 'date' extracted from the exact 'date' after converting the `date` from UTC to California time. So this is the "day" the user interacted with the item in their timezone. It's important to take timezones into account when determining whether users completed the scheduled/assigned work on the correct day because all `date`/`timestamp` values are UTC!
* `lag_time`: For a given `user_id`-`foreign_trans_id` pair, how much time has passed since the last interaction? (in seconds)
* `bout`: If more than 90 minutes passed between two consecutive events, we increment the "bout." These "bouts" of activity. Therefore, multiple bouts can occur on a single day but can span different types of activities (e.g., 15 min of Daily mode followed by 10 minutes of Chapter mode.)
* `repetition`: A counter that tracks how often each `user_id`-`foreign_trans_id` pair was repeated (does not reset between sessions/days!)
* `item_session`: This counts how many sessions (which are equivalent to days) an item was interacted with. For example, two repetitions yesterday and two repetitions today would result in `repetition` values 1 through 4 but the `item_session` would be 1, 1, 2, 2 for the four interactions.
* `session`: Sessions are equivalent to days. All interactions recorded on a given day are combined into a single session. The `session` variable is numerical, incremental counter of the unique `day` values for each user (across *all* game modes etc.).
* `performance`: A Boolean vector to indicate accuracy: TRUE = correct answer; FALSE = incorrect answer. This variable is based directly on `is_correct_answer`.

For additional details, please see the script `Gitlab/jedburgh/predictive_pipeline/florian/1_pull_wrangle_clean_filter.R`.